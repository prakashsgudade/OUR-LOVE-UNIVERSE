:root { --accent: #d4af37; }
* { box-sizing: border-box; margin: 0; padding: 0; }
body { background: #000; color: white; font-family: 'Poppins', sans-serif; min-height: 100vh; overflow-x: hidden; }

.main-wrapper { width: 100%; max-width: 450px; padding: 15px; margin: auto; display: flex; align-items: center; min-height: 100vh; }
.glass-container { background: rgba(20,20,20,0.9); backdrop-filter: blur(20px); border: 1.5px solid var(--accent); border-radius: 30px; padding: 25px; width: 100%; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.8); }

.img-frame { width: 100%; aspect-ratio: 4/5; border-radius: 20px; overflow: hidden; margin-bottom: 20px; position: relative; background: #111; }
#day-img { width: 100%; height: 100%; object-fit: cover; }

/* BLUR ACTION */
.blur-img { filter: blur(45px); transition: 0.6s ease; }
.blur-img.unblurred { filter: blur(0); }
@media (hover: hover) { .blur-img:hover { filter: blur(0); } }

/* SPECIAL EFFECTS */
#scratch-canvas { position: absolute; top:0; left:0; width:100%; height:100%; z-index:10; }
.hug-overlay { position: absolute; top:50%; left:50%; transform: translate(-50%,-50%) scale(0); font-size: 8rem; transition: 0.5s; z-index: 15; opacity: 0.7; pointer-events: none; }
.hug-active .hug-overlay { transform: translate(-50%,-50%) scale(1.2); }
.portal-mode #day-img { border-radius: 50%; border: 4px solid var(--accent); animation: rot 15s linear infinite; }
@keyframes rot { from{transform: rotate(0deg);} to{transform: rotate(360deg);} }

/* TYPOGRAPHY & UI */
.title-font { font-family: 'Great Vibes', cursive; font-size: 2.8rem; color: var(--accent); margin: 10px 0; }
.msg-text { font-size: 1rem; color: #ccc; margin-bottom: 20px; line-height: 1.5; }
.audio-box { background: rgba(255,255,255,0.06); padding: 12px; border-radius: 15px; margin-bottom: 12px; text-align: left; border: 1px solid rgba(255,255,255,0.1); }
audio { width: 100%; height: 32px; filter: invert(1); }
.heart-btn { background: var(--accent); border: none; border-radius: 50px; padding: 16px; width: 100%; font-weight: bold; cursor: pointer; color: #000; transition: 0.2s; }
.secret-box { margin-top: 15px; padding: 15px; border-radius: 15px; border: 1px dashed var(--accent); color: var(--accent); background: rgba(212,175,55,0.05); }
.hidden { display: none; }
.back-link { display: block; margin-top: 20px; color: #666; text-decoration: none; font-size: 0.8rem; }

.floating-heart { position: fixed; pointer-events: none; z-index: 1000; animation: f-up 2s ease-out forwards; }
@keyframes f-up { 0%{transform: translate(0,0) scale(1); opacity:1;} 100%{transform: translate(var(--rx), -100vh) scale(2); opacity:0;} }
