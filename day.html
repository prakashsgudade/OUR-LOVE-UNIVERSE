<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">

<style>

body{
margin:0;
font-family:Montserrat;
color:white;
overflow-x:hidden;
transition:background 1s ease;
}

/* GALAXY CANVAS */
#space{
position:fixed;
top:0;
left:0;
z-index:-1;
}

/* HEADER */
.header{
text-align:center;
padding:30px;
font-family:Cinzel Decorative;
font-size:32px;
letter-spacing:2px;
}

/* GRID */
.wrap{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
gap:18px;
padding:20px;
max-width:1200px;
margin:auto;
}

/* GLASS CARDS */
.box{
background:rgba(255,255,255,0.06);
border-radius:18px;
padding:20px;
backdrop-filter:blur(12px);
transition:.35s;
cursor:pointer;
border:1px solid rgba(255,255,255,0.08);
}

.box:hover{
transform:translateY(-8px) scale(1.02);
box-shadow:0 0 25px rgba(255,215,0,0.4);
}

.secret-unlocked{
box-shadow:0 0 35px hotpink;
}

img{
width:100%;
border-radius:12px;
}

button{
padding:12px 20px;
border:none;
background:gold;
font-weight:bold;
cursor:pointer;
border-radius:8px;
}

</style>
</head>

<body>

<canvas id="space"></canvas>

<div class="header" id="title"></div>

<div class="wrap">

<div class="box">
<h3>Memory Image</h3>
<img id="autoImg" src="">
</div>

<div class="box">
<h3>Voice Note</h3>
<button onclick="play()">PLAY</button>
<audio id="v"></audio>
</div>

<div class="box">
<h3>Message</h3>
<p id="msg"></p>
</div>

</div>

<script>
// ===== LAYOUT ENGINE =====

const layoutType = day % 4;

const wrap = document.querySelector(".wrap");

if(layoutType === 0){

wrap.style.gridTemplateColumns="1fr";
wrap.style.maxWidth="700px";

}

if(layoutType === 1){

wrap.style.gridTemplateColumns="repeat(3,1fr)";

}

if(layoutType === 2){

wrap.style.transform="rotateY(6deg)";
wrap.style.gap="40px";

}

if(layoutType === 3){

wrap.style.gridTemplateColumns="repeat(auto-fit,minmax(180px,1fr))";

}

// ===== DAY STATE =====
const day = parseInt(localStorage.getItem("currentDay")) || 1;
document.getElementById("title").innerHTML="Day "+day;
// ===== SURPRISE ENGINE =====

if(day % 5 === 0){

let surprise=document.createElement("div");
surprise.className="box";
surprise.innerHTML=`
<h3>üéÅ Hidden Surprise</h3>
<p>Tum special ho ‚ù§Ô∏è Day ${day}</p>
<button onclick="alert('Secret Unlocked ‚ú®')">Unlock</button>
`;

wrap.appendChild(surprise);

}
// ===== ANIMATION ENGINE =====

if(day % 2 === 0){

document.body.style.animation="pulse 6s infinite";

const style=document.createElement("style");
style.innerHTML=`
@keyframes pulse{
0%{filter:hue-rotate(0deg)}
100%{filter:hue-rotate(360deg)}
}
`;

document.head.appendChild(style);

}


// ===== AUTO THEMES =====
const themes=[
["#0f2027","#203a43","#2c5364"],
["#1a0b0b","#000000","#330000"],
["#141e30","#243b55","#1c1c1c"],
["#42275a","#734b6d","#000000"],
["#000428","#004e92","#000"]
];

const t = themes[day % themes.length];
document.body.style.background=
`linear-gradient(160deg, ${t[0]}, ${t[1]}, ${t[2]})`;


// ===== MESSAGE ENGINE =====
const msgs=[
"Tum meri kahani ka sabse khoobsurat hissa ho ‚ù§Ô∏è",
"Har din tumhare saath ek naya safar ‚ú®",
"Ye pal bhi ek yaad ban jayega üåô",
"Jahan tum ho wahi meri duniya üåç",
"Mohabbat waqt nahi dekhti üí´"
];

document.getElementById("msg").innerHTML=
msgs[day % msgs.length];


// ===== IMAGE ROTATOR =====
const imgIndex=(day%2)+1;
const imgEl=document.getElementById("autoImg");
imgEl.src=`assets/images/photo${imgIndex}.jpg`;
imgEl.onerror=()=>imgEl.src="assets/images/background.jpg";


// ===== AUDIO ROTATOR =====
const tracks=[
"assets/audio/muskan-message.mp3.mpeg",
"assets/audio/our-song.mp3"
];

const audio=document.getElementById("v");
audio.src=tracks[day % tracks.length];

function play(){
audio.volume=0;
audio.play();

let fade=setInterval(()=>{
if(audio.volume<1){
audio.volume+=0.05;
}else{
clearInterval(fade);
}
},100);
}


// ===== SECRET CARD GENERATOR =====
const wrap=document.querySelector(".wrap");

for(let i=0;i<3;i++){
let b=document.createElement("div");
b.className="box";

b.innerHTML=`
<h3>Secret Memory ${i+1}</h3>
<p>Tap to reveal hidden feeling</p>
`;

b.onclick=()=>{
b.classList.add("secret-unlocked");
b.innerHTML=`
<h3>Unlocked ‚ù§Ô∏è</h3>
<p>Day ${day} ‚Äî Hidden Emotion #${i+1}</p>
`;
};

wrap.appendChild(b);
}


// ===== GALAXY BACKGROUND =====
const c=document.getElementById("space");
const ctx=c.getContext("2d");

function resize(){
c.width=innerWidth;
c.height=innerHeight;
}
resize();
window.addEventListener("resize",resize);

let stars=[];
for(let i=0;i<120;i++){
stars.push({
x:Math.random()*c.width,
y:Math.random()*c.height,
r:Math.random()*1.5
});
}

function anim(){
ctx.clearRect(0,0,c.width,c.height);
ctx.fillStyle="white";

stars.forEach(s=>{
ctx.beginPath();
ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
ctx.fill();

s.y+=0.3;
if(s.y>c.height) s.y=0;
});

requestAnimationFrame(anim);
}
anim();

</script>

</body>
</html>
