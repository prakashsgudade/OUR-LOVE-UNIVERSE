<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Love Journey | Timeline</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Montserrat:wght@300;500;700&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
:root{
--gold:#d4af37;
--neon-red:#ff3131;
--glass:rgba(255,255,255,0.03);
--border:rgba(212,175,55,0.3);
}

body{
background:radial-gradient(circle at center,#1a0000 0%,#050505 100%);
color:#fff;
font-family:'Montserrat',sans-serif;
margin:0;
padding:80px 20px;
overflow-x:hidden;
}

/* STAR CANVAS */
#space{
position:fixed;
top:0;
left:0;
z-index:-2;
}

/* Ambient texture */
body::before{
content:'';
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:url('https://www.transparenttextures.com/patterns/stardust.png');
opacity:0.3;
z-index:-1;
}

.container{max-width:900px;margin:0 auto;position:relative;}

header{text-align:center;margin-bottom:80px;}
header h1{
font-family:'Cinzel Decorative';
color:var(--gold);
font-size:2.8rem;
letter-spacing:5px;
text-shadow:0 0 20px rgba(212,175,55,0.5);
margin:0;
}
header p{
font-family:'Great Vibes';
font-size:1.8rem;
color:#ffb3b3;
margin-top:10px;
}

/* progress */
#progressBar{
width:100%;
height:6px;
background:#222;
border-radius:20px;
margin-top:20px;
overflow:hidden;
}
#progressFill{
height:100%;
width:0%;
background:var(--gold);
}

/* notification */
#notification{
position:fixed;
top:20px;
right:20px;
background:#111;
border:1px solid var(--gold);
padding:12px 18px;
border-radius:12px;
font-size:14px;
opacity:1;
transition:0.5s;
}
.hidden{opacity:0;pointer-events:none;}

.timeline-line{
position:absolute;
left:50%;
transform:translateX(-50%);
top:150px;
bottom:0;
width:2px;
background:linear-gradient(to bottom,var(--gold)0%,transparent 100%);
z-index:0;
}

.chapter-node{
display:flex;
justify-content:center;
align-items:center;
width:100%;
margin-bottom:80px;
position:relative;
z-index:1;
}

.card{
width:40%;
padding:25px;
background:var(--glass);
backdrop-filter:blur(15px);
border:1px solid var(--border);
border-radius:20px;
text-decoration:none;
color:#fff;
transition:0.5s;
box-shadow:0 10px 30px rgba(0,0,0,0.5);
position:relative;
cursor:pointer;
}

.chapter-node:nth-child(odd) .card{margin-right:55%;text-align:right;}
.chapter-node:nth-child(even) .card{margin-left:55%;text-align:left;}

.node-dot{
position:absolute;
left:50%;
transform:translateX(-50%);
width:20px;height:20px;
background:#000;
border:2px solid var(--gold);
border-radius:50%;
box-shadow:0 0 15px var(--gold);
z-index:2;
}

.card:hover{
transform:translateY(-10px);
border-color:var(--gold);
box-shadow:0 0 30px rgba(212,175,55,0.2);
background:rgba(255,255,255,0.07);
}

.day-num{
font-family:'Cinzel Decorative';
color:var(--gold);
font-size:1.5rem;
display:block;
margin-bottom:5px;
}

.locked{
filter:grayscale(1);
opacity:0.4;
cursor:not-allowed;
pointer-events:none;
}

@media(max-width:768px){
.timeline-line{left:30px;}
.node-dot{left:30px;}
.card{width:80%;margin-left:70px!important;text-align:left!important;}
}
</style>
</head>

<body>

<canvas id="space"></canvas>

<audio id="bgMusic" loop>
<source src="../assets/audio/bg.mp3" type="audio/mpeg">
</audio>

<div id="notification" class="hidden">
âœ¨ New Day Unlocked
</div>

<div class="container">

<header>
<h1>LOVE STORY</h1>
<p>Every moment is a milestone...</p>

<div id="progressBar">
<div id="progressFill"></div>
</div>

</header>

<div class="timeline-line"></div>
<div id="dynamic-timeline"></div>

</div>

<script>

/* ========= SETTINGS ========= */

const START_DATE = new Date("2026-02-06");
const TOTAL_CHAPTERS = 5000;

/* ========= STAR PARTICLES ========= */

const canvas=document.getElementById("space");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let stars=[];
for(let i=0;i<120;i++){
stars.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
r:Math.random()*2
});
}

function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
stars.forEach(s=>{
ctx.beginPath();
ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
ctx.fillStyle="white";
ctx.fill();
s.y+=0.2;
if(s.y>canvas.height)s.y=0;
});
requestAnimationFrame(animate);
}
animate();

/* ========= DATE ========= */

let today=new Date();
let diff=Math.floor((today-START_DATE)/(1000*60*60*24))+1;
if(diff<1) diff=1;

/* ========= PROGRESS ========= */

let progress=(diff/TOTAL_CHAPTERS)*100;
document.getElementById("progressFill").style.width=progress+"%";

/* ========= NOTIFICATION ========= */

setTimeout(()=>{
document.getElementById("notification").classList.remove("hidden");
},1000);

/* ========= TIMELINE BUILD ========= */

const container=document.getElementById('dynamic-timeline');

for(let i=1;i<=TOTAL_CHAPTERS;i++){

let unlocked=i<=diff;

let node=document.createElement('div');
node.className='chapter-node';

node.innerHTML=`
<div class="node-dot"></div>
<div class="card ${unlocked?'':'locked'}"
onclick="${unlocked?`loadChapter('chapters/day${i}.html')`:''}">
<span class="day-num">Day ${i}</span>
<span>${unlocked?'Unlocked':'Locked'}</span>
</div>
`;

container.appendChild(node);

}

/* ========= LOAD WITHOUT RELOAD ========= */

function loadChapter(file){
fetch(file)
.then(r=>r.text())
.then(html=>{
document.body.innerHTML=html;
window.scrollTo(0,0);
});
}

/* ========= MUSIC SCROLL REACT ========= */

window.addEventListener("scroll",()=>{
let audio=document.getElementById("bgMusic");
if(audio.paused) audio.play();
audio.volume=Math.min(1,window.scrollY/1000);
});

/* ========= MEMORY SAVE ========= */

localStorage.setItem("lastVisit",today);

</script>

</body>
</html>
