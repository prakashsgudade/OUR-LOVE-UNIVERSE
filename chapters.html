<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Journey | Muskan</title>

<link rel="stylesheet" href="css/main-style.css">
<link rel="stylesheet" href="css/royal-theme.css">
<link rel="stylesheet" href="css/animations.css">
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">

<style>
    body { background:#050505; color:#fff; font-family:'Montserrat',sans-serif; margin:0; padding:40px 15px; }
    .header { text-align:center; margin-bottom:40px; }
    .header h1 { font-family:'Cinzel Decorative'; color:#d4af37; letter-spacing: 3px; }
    
    /* Notification */
    #unlockNotice {
        position:fixed; top:20px; left:50%; transform:translateX(-50%);
        background:#111; border:1px solid #d4af37; padding:10px 18px;
        border-radius:10px; display:none; z-index:999; box-shadow: 0 0 15px rgba(212,175,55,0.4);
    }

    /* Progress Bar */
    .progress-box { width:100%; height:8px; background:#111; border-radius:10px; margin:20px auto 40px; overflow:hidden; max-width:700px; border: 1px solid rgba(212,175,55,0.1); }
    #progressFill { height:100%; width:0%; background: linear-gradient(90deg, #d4af37, #f2d06b); transition: 1.5s ease; }

    /* Grid */
    .timeline { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; max-width:1000px; margin:0 auto; }

    /* Card */
    .card {
        background: rgba(255,255,255,0.03); padding:25px; border-radius:15px;
        border:1px solid rgba(212,175,55,0.2); text-decoration:none; color:white;
        position:relative; transition:0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        display: flex; flex-direction: column; gap: 8px;
    }
    .card:hover { transform:translateY(-8px); border-color: #d4af37; background: rgba(212,175,55,0.05); }

    /* Locked */
    .locked { filter:grayscale(1); opacity:0.3; cursor: not-allowed; }
    .locked::after { content: 'ðŸ”’'; position: absolute; top: 15px; right: 15px; font-size: 0.8rem; }

    /* New Unlock Glow */
    .new { border: 1px solid #d4af37; box-shadow:0 0 20px rgba(212,175,55,0.3); animation: pulseGlow 2s infinite; }
    @keyframes pulseGlow { 0% { box-shadow: 0 0 5px #d4af37; } 50% { box-shadow: 0 0 20px #d4af37; } 100% { box-shadow: 0 0 5px #d4af37; } }

    .day { font-family:'Cinzel Decorative'; color:#d4af37; font-size:1.3rem; }
    .title { font-size: 0.85rem; letter-spacing: 1px; opacity: 0.8; }
</style>
</head>

<body>
<div id="unlockNotice"></div>

<div class="header">
    <h1>Our Journey</h1>
    <p>Every day, a new secret unfolds...</p>
</div>

<div class="progress-box">
    <div id="progressFill"></div>
</div>

<div class="timeline" id="timeline"></div>

<script>
/* ========= CONFIG ========= */
const START_DATE = new Date("2026-02-06");
const TOTAL_DAYS = 10; // Tum ise 50 tak bada sakte ho
const STORAGE_KEY = "loveTimelineMemory";

// Har din ka pyara sa naam
const dayNames = [
    "The 10 Secret Flowers", "The Eternal Rose Lock", "Starry Night Whispers",
    "Ocean of Emotions", "The Golden Promise", "Heartbeat Connection",
    "Magic in the Air", "Soulmate Secrets", "Infinite Dreams", "The Final Vow"
];

/* ========= LOAD MEMORY ========= */
let memory = JSON.parse(localStorage.getItem(STORAGE_KEY)) || { lastSeen: 0 };

/* ========= CALCULATE DAYS ========= */
const today = new Date();
const diff = Math.floor((today - START_DATE)/(1000*60*60*24)) + 1;
const unlocked = Math.max(0, Math.min(diff, TOTAL_DAYS));

/* ========= NOTIFICATION ========= */
if(unlocked > memory.lastSeen){
    let notice = document.getElementById("unlockNotice");
    notice.innerHTML = "âœ¨ <b>" + (unlocked - memory.lastSeen) + "</b> New memory unlocked!";
    notice.style.display="block";
    setTimeout(()=> notice.style.display="none", 4000);
}

/* ========= BUILD TIMELINE ========= */
const container = document.getElementById("timeline");

for(let i=1; i<=TOTAL_DAYS; i++){
    let isCurrentlyUnlocked = i <= unlocked;
    let card = document.createElement(isCurrentlyUnlocked ? "a" : "div");
    card.className = "card";

    if(!isCurrentlyUnlocked) {
        card.classList.add("locked");
    } else if(i > memory.lastSeen) {
        card.classList.add("new");
    }

    if(isCurrentlyUnlocked) card.href = "chapters/day" + i + ".html";

    card.innerHTML = `
        <div class="day">Day ${i < 10 ? '0'+i : i}</div>
        <div class="title">${dayNames[i-1] || "Secret Memory"}</div>
        <div style="font-size: 0.7rem; color: #d4af37; margin-top: 5px;">
            ${isCurrentlyUnlocked ? "CLICK TO OPEN â†’" : "COMING SOON"}
        </div>
    `;
    container.appendChild(card);
}

/* ========= PROGRESS ========= */
setTimeout(() => {
    let percent = (unlocked / TOTAL_DAYS) * 100;
    document.getElementById("progressFill").style.width = percent + "%";
}, 500);

/* ========= SAVE MEMORY ========= */
// Jab wo aaj ka din dekh le, tab memory update karein
memory.lastSeen = unlocked;
localStorage.setItem(STORAGE_KEY, JSON.stringify(memory));
</script>
</body>
</html>
