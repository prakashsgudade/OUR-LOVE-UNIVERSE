<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memories Universe ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Dancing+Script:wght@600&family=Poppins:wght@300;500&family=Noto+Nastaliq+Urdu&family=Noto+Sans+Devanagari:wght@400;700&display=swap" rel="stylesheet">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #000; color: white; font-family: 'Poppins', sans-serif; overflow-x: hidden; min-height: 100vh; }

        /* --- Password Overlay --- */
        #lock-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, #1a1a2e, #000); z-index: 1000; 
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        .pass-box {
            background: rgba(255, 255, 255, 0.05); padding: 40px; border-radius: 30px;
            border: 1px solid #ff007a; text-align: center; backdrop-filter: blur(15px);
            box-shadow: 0 0 30px rgba(255, 0, 122, 0.2);
        }
        input[type="password"] {
            background: transparent; border: 1px solid #00d4ff; padding: 12px;
            color: white; border-radius: 15px; margin: 20px 0; outline: none; 
            text-align: center; font-family: 'Orbitron';
        }

        /* --- Main Content --- */
        #main-content { display: none; opacity: 0; transition: 1.5s; position: relative; z-index: 10; }
        canvas { position: fixed; top: 0; left: 0; z-index: 1; pointer-events: none; }

        .container {
            width: 95%; max-width: 800px; margin: 40px auto;
            background: rgba(255, 255, 255, 0.07); backdrop-filter: blur(15px);
            padding: 30px; border-radius: 30px; text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        h2 { font-family: 'Dancing Script', cursive; font-size: 45px; color: #ff4da6; margin-bottom: 10px; }

        /* --- Beautiful Image Frame --- */
        .photo-box {
            width: 100%; height: 450px; display: flex; align-items: center; justify-content: center;
            background: #000; border-radius: 25px; overflow: hidden; margin-top: 20px;
            border: 4px solid transparent;
            background-image: linear-gradient(#000, #000), linear-gradient(135deg, #ff007a, #00d4ff);
            background-origin: border-box; background-clip: content-box, border-box;
            box-shadow: 0 0 25px rgba(0, 212, 255, 0.3);
            position: relative;
        }
        #photo { 
            max-width: 100%; max-height: 100%; object-fit: contain; 
            transition: opacity 0.8s ease; opacity: 1; 
        }

        #letter {
            margin: 25px 0; font-size: 22px; min-height: 120px;
            line-height: 1.6; white-space: pre-line; transition: opacity 0.5s;
        }

        .urdu-text { font-family: 'Noto Nastaliq Urdu', serif; direction: rtl; font-size: 28px; }

        /* --- Buttons --- */
        .btn {
            padding: 15px 30px; border: none; border-radius: 50px;
            background: linear-gradient(90deg, #ff007a, #00d4ff);
            color: white; font-weight: bold; cursor: pointer; transition: 0.3s;
            font-family: 'Orbitron', sans-serif; font-size: 0.9rem;
        }
        .btn:hover { transform: scale(1.05); box-shadow: 0 0 20px #ff007a; }

        .music-section { margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); }
        audio { filter: invert(100%); width: 100%; margin-top: 15px; }
        
        input[type="file"] { margin: 15px 0; font-size: 12px; }
    </style>
</head>
<body>

    <div id="lock-screen">
        <div class="pass-box">
            <h2 style="font-family: 'Orbitron'; font-size: 1.2rem; color: #00d4ff; letter-spacing: 2px;">SECURED UNIVERSE</h2>
            <input type="password" id="passInput" placeholder="Enter Name...">
            <br>
            <button class="btn" onclick="checkPass()">ACCESS MEMORIES</button>
        </div>
    </div>

    <div id="main-content">
        <canvas id="universe"></canvas>
        <div class="container">
            <h2>Our Universe ‚ù§Ô∏è</h2>
            
            <button class="btn" onclick="generate()">NEXT MEMORY</button>

            <div id="letter">"Click to reveal a message, Muskan..."</div>

            <div class="photo-box">
                <img id="photo" src="https://via.placeholder.com/800x400?text=Your+Universe+Is+Empty">
            </div>

            <div style="margin-top: 20px;">
                <p style="font-size: 12px; opacity: 0.6;">Upload Your Favorite Photos Together</p>
                <input type="file" id="photos-input" multiple accept="image/*">
            </div>

            <div class="music-section">
                <h3 style="font-family: 'Orbitron'; font-size: 0.8rem;">üéµ UNIVERSE MELODY</h3>
                <input type="file" id="music-input" accept="audio/*">
                <audio id="player" controls loop></audio>
            </div>

            <button style="background: #222; margin-top: 20px; font-size: 10px;" onclick="clearData()">WIPE DATA</button>
        </div>
    </div>

<script>
    // --- 1. Password Protection ---
    function checkPass() {
        const pass = document.getElementById('passInput').value.toLowerCase();
        if(pass === "muskan") {
            document.getElementById('lock-screen').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            setTimeout(() => { document.getElementById('main-content').style.opacity = '1'; }, 100);
            initUniverse(); 
        } else {
            alert("Wrong Access Key! Think about who this is for...");
        }
    }

    // --- 2. Advanced Letters ---
    const beginnings = [
        "Muskan,\n‡§ï‡§≠‡•Ä ‡§ï‡§≠‡•Ä ‡§≤‡§ó‡§§‡§æ ‡§π‡•à ‡§Æ‡•á‡§∞‡•Ä ‡§ú‡§º‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§è‡§ï blank page ‡§•‡•Ä‚Ä¶ ‡§î‡§∞ ‡§§‡•Å‡§Æ ‡§â‡§∏ ‡§™‡§∞ ‡§≤‡§ø‡§ñ‡•Ä ‡§π‡•Å‡§à ‡§∏‡§¨‡§∏‡•á ‡§ñ‡•Ç‡§¨‡§∏‡•Ç‡§∞‡§§ ‡§ï‡§π‡§æ‡§®‡•Ä ‡§π‡•ã‡•§",
        "My Dearest,\nIn a world full of temporary things, you are my forever and my only constant.",
        "Muskan,\n‡§§‡•Ç ‡§Æ‡§æ‡§ù‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§´‡§ï‡•ç‡§§ ‡§™‡•ç‡§∞‡•á‡§Æ ‡§®‡§æ‡§π‡•Ä, ‡§§‡§∞ ‡§ú‡§ó‡§£‡•ç‡§Ø‡§æ‡§ö‡§Ç ‡§ñ‡§∞‡§Ç ‡§ï‡§æ‡§∞‡§£ ‡§Ü‡§π‡•á‡§∏‡•§",
        "<span class='urdu-text'>ÿ™ŸÖ€Åÿßÿ±€å ŸÖÿ≥⁄©ÿ±ÿß€ÅŸπ ŸÖ€åÿ±€í ÿØŸÑ ⁄©€í ÿ≥ÿßÿ±€í ÿ≤ÿÆŸÖŸà⁄∫ ⁄©ÿß ŸÖÿ±€ÅŸÖ €Å€í€î</span>",
        "Muskan, tum meri zindagi ka wo savera ho, jisne mere saare andheron ko mita diya."
    ];

    const middles = [
        "‡§Æ‡•á‡§∞‡•Ä ‡§π‡§∞ ‡§∏‡§æ‡§Ç‡§∏ ‡§Æ‡•á‡§Ç ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡§æ ‡§®‡§æ‡§Æ ‡§π‡•à‡•§ ‡§§‡•Å‡§Æ‡§∏‡•á ‡§Æ‡§ø‡§≤‡§ï‡§∞ ‡§ê‡§∏‡§æ ‡§≤‡§ó‡§æ ‡§ú‡•à‡§∏‡•á ‡§¨‡§ø‡§õ‡§°‡§º‡§æ ‡§π‡•Å‡§Ü ‡§ï‡•ã‡§à ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§Æ‡§ø‡§≤ ‡§ó‡§Ø‡§æ ‡§π‡•ã‡•§",
        "Every beat of my heart belongs to you. You make me want to be a better person.",
        "‡§§‡•Ç ‡§Æ‡§æ‡§ù‡•Ä ‡§§‡•Ä ‡§∏‡§æ‡§µ‡§≤‡•Ä ‡§Ü‡§π‡•á‡§∏, ‡§ú‡•Ä ‡§ï‡§ß‡•Ä‡§ö ‡§Æ‡§≤‡§æ ‡§∏‡•ã‡§°‡•Ç‡§® ‡§ú‡§æ‡§£‡§æ‡§∞ ‡§®‡§æ‡§π‡•Ä‡•§",
        "<span class='urdu-text'>ÿ™ŸÖ ŸÖ€åÿ±€å ÿ±Ÿàÿ≠ ⁄©€å Ÿà€Å Ÿæ€åÿßÿ≥ €ÅŸà ÿ¨Ÿà ÿµÿ±ŸÅ ÿØ€åÿØÿßÿ± ÿ≥€í ÿ®ÿ¨⁄æÿ™€å €Å€í€î</span>",
        "‡§§‡•Å‡§ù‡•Ä ‡§è‡§ï ‡§∏‡•ç‡§Æ‡§æ‡§à‡§≤ ‡§Æ‡§æ‡§ù‡§æ ‡§¶‡§ø‡§µ‡§∏ ‡§¨‡§®‡§µ‡§§‡•á. ‡§Æ‡§≤‡§æ ‡§§‡•Å‡§ù‡•ç‡§Ø‡§æ‡§∏‡•ã‡§¨‡§§ ‡§Æ‡•ç‡§π‡§æ‡§§‡§æ‡§∞‡§Ç ‡§µ‡•ç‡§π‡§æ‡§Ø‡§ö‡§Ç ‡§Ü‡§π‡•á‡•§"
    ];

    const endings = [
        "‡§¨‡§∏ ‡§á‡§§‡§®‡§æ ‡§π‡•Ä ‡§ï‡§π‡§®‡§æ ‡§π‡•à‚Äî‡§Æ‡•á‡§∞‡•Ä ‡§π‡§∞ ‡§¶‡•Å‡§Ü ‡§Æ‡•á‡§Ç ‡§§‡•Å‡§Æ ‡§π‡•ã‡•§ ‚ù§Ô∏è",
        "Stay with me forever, because you are my universe. ‚ú®",
        "‡§§‡•Ç ‡§Æ‡§æ‡§ù‡§æ ‡§§‡•ã ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏ ‡§Ü‡§π‡•á‡§∏ ‡§ú‡•ã ‡§ï‡§ß‡•Ä‡§ö ‡§®‡§æ‡§π‡•Ä ‡§§‡•Å‡§ü‡§£‡§æ‡§∞‡•§ I Love You! üå∏",
        "<span class='urdu-text'>ÿ™ŸÖ ŸÖ€åÿ±€å ÿ≤ŸÜÿØ⁄Ø€å ⁄©€å ÿ≥ÿ® ÿ≥€í ÿ≠ÿ≥€åŸÜ ÿ≠ŸÇ€åŸÇÿ™ €ÅŸà€î</span>",
        "‡§Ø‡•á ‡§ï‡•ã‡§à Algorithm ‡§®‡§π‡•Ä‡§Ç ‡§∏‡§Æ‡§ù‡•á‡§ó‡§æ, ‡§™‡§∞ ‡§¶‡§ø‡§≤ ‡§ú‡§æ‡§®‡§§‡§æ ‡§π‡•à‚Äî‡§§‡•Å‡§Æ ‡§Æ‡•á‡§∞‡§æ Best Decision ‡§π‡•ã‡•§"
    ];

    // --- 3. Photo & Logic ---
    let pics = [];
    let currentIndex = 0;

    window.onload = () => {
        const saved = localStorage.getItem("muskan_memories");
        if(saved) {
            pics = JSON.parse(saved);
            if(pics.length > 0) document.getElementById("photo").src = pics[0];
        }
    };

    document.getElementById("photos-input").onchange = e => {
        const files = Array.from(e.target.files);
        pics = [];
        let loaded = 0;
        files.forEach(file => {
            const reader = new FileReader();
            reader.onload = ev => {
                pics.push(ev.target.result);
                loaded++;
                if(loaded === files.length) {
                    localStorage.setItem("muskan_memories", JSON.stringify(pics));
                    document.getElementById("photo").src = pics[0];
                    alert("Universe Updated with " + loaded + " Photos!");
                }
            };
            reader.readAsDataURL(file);
        });
    };

    function generate() {
        // Smooth transitions
        const letterEl = document.getElementById("letter");
        const photoEl = document.getElementById("photo");
        
        letterEl.style.opacity = 0;
        photoEl.style.opacity = 0;

        setTimeout(() => {
            // New Text
            let b = beginnings[Math.floor(Math.random() * beginnings.length)];
            let m = middles[Math.floor(Math.random() * middles.length)];
            let e = endings[Math.floor(Math.random() * endings.length)];
            letterEl.innerHTML = b + "<br>" + m + "<br>" + e;
            
            // New Photo
            if(pics.length > 0) {
                currentIndex = (currentIndex + 1) % pics.length;
                photoEl.src = pics[currentIndex];
            }

            letterEl.style.opacity = 1;
            photoEl.style.opacity = 1;
        }, 600);
    }

    function clearData() {
        if(confirm("Wipe all universe data?")) {
            localStorage.clear();
            location.reload();
        }
    }

    document.getElementById("music-input").onchange = e => {
        const player = document.getElementById("player");
        player.src = URL.createObjectURL(e.target.files[0]);
        player.play();
    };

    // --- 4. Starfield Background ---
    function initUniverse() {
        const canvas = document.getElementById('universe');
        const ctx = canvas.getContext('2d');
        let w = canvas.width = window.innerWidth;
        let h = canvas.height = window.innerHeight;
        let stars = [];

        for(let i=0; i<200; i++) {
            stars.push({
                x: Math.random()*w, y: Math.random()*h,
                size: Math.random()*2,
                v: Math.random()*0.3 + 0.1
            });
        }

        function draw() {
            ctx.clearRect(0,0,w,h);
            ctx.fillStyle = "rgba(255, 255, 255, 0.8)";
            stars.forEach(s => {
                ctx.beginPath();
                ctx.arc(s.x, s.y, s.size, 0, Math.PI*2);
                ctx.fill();
                s.y += s.v;
                if(s.y > h) s.y = 0;
            });
            requestAnimationFrame(draw);
        }
        draw();
    }
</script>
</body>
</html>
