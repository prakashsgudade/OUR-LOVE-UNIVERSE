<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Day 19 | Royal Biometric Vault</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Noto+Nastaliq+Urdu&family=Montserrat:wght@100;300;500&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --accent: #d4af37;
            --bg: #000;
            --glass: rgba(255, 255, 255, 0.03);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body, html {
            height: 100%; width: 100%; background: var(--bg);
            color: white; font-family: 'Montserrat', sans-serif;
            overflow: hidden; 
        }

        /* --- FACE LOCK SCREEN --- */
        #lock-screen {
            position: fixed; inset: 0; background: #000; z-index: 1000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: 1s ease-in-out;
        }

        .scanner-circle {
            width: 200px; height: 200px; border: 2px solid var(--accent);
            border-radius: 50%; position: relative;
            box-shadow: 0 0 30px var(--accent); overflow: hidden;
        }

        .scan-line {
            position: absolute; width: 100%; height: 4px; background: var(--accent);
            top: 0; box-shadow: 0 0 20px var(--accent);
            animation: scan 2s infinite ease-in-out;
        }

        @keyframes scan { 0%, 100% { top: 0%; } 50% { top: 100%; } }

        .lock-status { margin-top: 30px; font-family: 'Cinzel'; letter-spacing: 4px; color: var(--accent); font-size: 0.8rem; }

        /* --- MAIN GALLERY UI --- */
        .main-stage {
            height: 100vh; width: 100%; display: flex; flex-direction: column;
            align-items: center; justify-content: space-between;
            padding: 40px 20px; opacity: 0; transform: scale(1.1);
            transition: 1.5s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .active-gallery { opacity: 1 !important; transform: scale(1) !important; }

        /* PHOTO FRAME - DESIGN #79 PROTECTION */
        .aura-frame {
            position: relative; width: 100%; max-width: 380px; height: 50vh;
            background: var(--glass); border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 30px; display: flex; align-items: center; justify-content: center;
            overflow: hidden; box-shadow: 0 50px 100px rgba(0,0,0,1);
            cursor: pointer;
        }

        #active-img {
            max-width: 92%; max-height: 92%;
            width: auto; height: auto; object-fit: contain;
            border-radius: 20px; transition: 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* POETRY & TEXT */
        .content-box { text-align: center; width: 100%; }
        .urdu {
            font-family: 'Noto Nastaliq Urdu', serif; font-size: clamp(1.2rem, 5vw, 1.5rem);
            color: var(--accent); margin-bottom: 10px; line-height: 2.5;
        }
        .eng { font-size: 0.85rem; font-weight: 100; color: #aaa; font-style: italic; }

        /* CONTROLS */
        .nav-hub { display: flex; align-items: center; gap: 30px; margin-top: 20px; }
        .magic-btn {
            width: 60px; height: 60px; border-radius: 50%;
            border: 1px solid var(--accent); background: none; color: var(--accent);
            display: flex; align-items: center; justify-content: center; cursor: pointer;
        }
        .magic-btn:active { background: var(--accent); color: black; }

        .sig { font-family: 'Dancing Script', cursive; font-size: 2.2rem; color: var(--accent); opacity: 0.8; }

    </style>
</head>
<body>

    <div id="lock-screen" onclick="unlock()">
        <div class="scanner-circle">
            <div class="scan-line"></div>
        </div>
        <div class="lock-status" id="status-text">WAITING FOR FACE ID...</div>
        <p style="margin-top: 100px; font-size: 0.6rem; color: #444;">TAP TO SCAN</p>
    </div>

    <div class="main-stage" id="gallery-ui">
        <div class="sig">Prakash</div>

        <div class="aura-frame" onclick="surpriseMe()">
            <img src="../assets/images/home/m1.jpg" id="active-img">
        </div>

        <div class="content-box">
            <div class="urdu" id="u-txt">خوبصورتی کا دوسرا نام</div>
            <p class="eng" id="e-txt">"A beauty that eyes can't define."</p>
            
            <div class="nav-hub">
                <button class="magic-btn" onclick="surpriseMe()">
                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
                </button>
                <div style="font-size: 0.6rem; letter-spacing: 4px; color: var(--accent);" id="counter">1 / 120</div>
                <button class="magic-btn" onclick="surpriseMe()">
                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- FACE LOCK JADU ---
        function unlock() {
            const status = document.getElementById('status-text');
            status.innerText = "AUTHENTICATING...";
            status.style.color = "#00ff00";
            
            setTimeout(() => {
                document.getElementById('lock-screen').style.opacity = "0";
                document.getElementById('lock-screen').style.pointerEvents = "none";
                document.getElementById('gallery-ui').classList.add('active-gallery');
                surpriseMe(); // Load first random photo
            }, 1500);
        }

        // --- UNIQUE RANDOM LOGIC (NO REPEAT) ---
        let availablePhotos = Array.from({length: 120}, (_, i) => i + 1);
        let usedCount = 0;

        const quotes = [
            {u: "تمہاری آنکھیں، میری کائنات", e: "Your eyes carry a world where I want to stay forever."},
            {u: "تم ہی میرا سکون ہو", e: "In this chaotic world, you are my only peace."},
            {u: "تیری مسکراہٹ، میری زندگی", e: "Your smile is the only light my heart ever needed."},
            {u: "محبت کی انتہا تم ہو", e: "You are the beginning and the end of my story."},
            {u: "ایک خوبصورت خواب", e: "Life with you feels like a dream I never want to wake from."},
            {u: "تم سے شروع، تم پر ختم", e: "My love starts with you and ends at your soul."},
            {u: "روح کا سکون تم ہو", e: "You are the melody that calms the storm inside me."},
            {u: "میرا مکمل جہاں", e: "I found my whole world in a person named Muskan."}
        ];

        function surpriseMe() {
            if (availablePhotos.length === 0) {
                // Reset if all 120 are seen
                availablePhotos = Array.from({length: 120}, (_, i) => i + 1);
                usedCount = 0;
            }

            // Pick a random index from available pool
            const randomIndex = Math.floor(Math.random() * availablePhotos.length);
            const photoNum = availablePhotos.splice(randomIndex, 1)[0];
            usedCount++;

            const img = document.getElementById('active-img');
            const uTxt = document.getElementById('u-txt');
            const eTxt = document.getElementById('e-txt');
            const counter = document.getElementById('counter');
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];

            // Transition Effect
            img.style.opacity = "0";
            img.style.transform = "scale(0.8) rotateY(20deg)";

            setTimeout(() => {
                img.src = `../assets/images/home/m${photoNum}.jpg`;
                uTxt.innerText = randomQuote.u;
                eTxt.innerText = randomQuote.e;
                counter.innerText = `${usedCount} / 120`;
                
                img.style.opacity = "1";
                img.style.transform = "scale(1) rotateY(0deg)";
            }, 400);
        }
    </script>
</body>
</html>
